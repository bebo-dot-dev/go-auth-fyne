package main

import (
	"bytes"
	"context"
	"encoding/base64"
	"fmt"
	"fyne.io/fyne/v2"
	"fyne.io/fyne/v2/app"
	"fyne.io/fyne/v2/canvas"
	"fyne.io/fyne/v2/container"
	"fyne.io/fyne/v2/data/validation"
	"fyne.io/fyne/v2/driver/mobile"
	"fyne.io/fyne/v2/theme"
	"fyne.io/fyne/v2/widget"
	"github.com/bebo-dot-dev/go-auth-api/client"
	"image/color"
	"image/png"
	"log"
	"net/http"
	"os"
	"strings"
)

const appIconPngBase64 = `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`
const apiServerHost = `192.168.1.3:8080`

var window fyne.Window

func main() {
	thisApp := app.NewWithID("fyne authentication demo")
	thisApp.SetIcon(getStaticResource(appIconPngBase64))
	window = thisApp.NewWindow("Authentication Demo")

	form, username := getLogonForm()
	window.SetContent(form)
	window.Resize(fyne.NewSize(640, window.Canvas().Size().Height))

	window.Canvas().Focus(username)
	if device, ok := fyne.CurrentDevice().(mobile.Device); ok {
		device.ShowVirtualKeyboard()
	}

	thisApp.Settings().SetTheme(theme.DarkTheme())
	window.ShowAndRun()
}

func getStaticResource(imgData string) *fyne.StaticResource {
	rdr := base64.NewDecoder(base64.StdEncoding, strings.NewReader(imgData))
	img, err := png.Decode(rdr)
	if err != nil {
		log.Fatal(err)
	}
	buff := new(bytes.Buffer)
	err = png.Encode(buff, img)
	if err != nil {
		log.Fatal(err)
	}
	return fyne.NewStaticResource("app icon", buff.Bytes())
}

func getLogonForm() (*fyne.Container, *widget.Entry) {
	apiEndpointLabel := widget.NewLabel("Using API endpoint: " + apiServerHost)

	username := widget.NewEntry()
	username.Validator = validation.NewRegexp(`^[A-Za-z0-9_-]+$`, "username can only contain letters, numbers, '_', and '-'")
	username.SetPlaceHolder("Username")

	password := widget.NewPasswordEntry()
	password.Validator = validation.NewRegexp(`^[A-Za-z0-9_-]+$`, "password can only contain letters, numbers, '_', and '-'")
	password.SetPlaceHolder("Password")

	info := widget.NewMultiLineEntry()
	info.Wrapping = fyne.TextWrapWord
	warningIcon := widget.NewIcon(theme.WarningIcon())
	infoPanel := container.NewBorder(nil, nil, warningIcon, nil, info)
	infoPanel.Hide()

	form := &widget.Form{
		Items: []*widget.FormItem{
			{Widget: username, HintText: "Your username"},
			{Widget: password, HintText: "Your password"},
		},
		OnCancel: func() {
			username.SetText("")
			password.SetText("")
			window.Canvas().Focus(username)
			if device, ok := fyne.CurrentDevice().(mobile.Device); ok {
				device.ShowVirtualKeyboard()
			}
			infoPanel.Hide()
			fmt.Println("Cancelled")
		},
		OnSubmit: func() {
			user, response, err := attemptAuth(username.Text, password.Text)
			handleAuthResponse(username.Text, user, response, err, info, infoPanel)
		},
	}
	
	grid := container.NewGridWithColumns(1, form, infoPanel)
	content := container.NewVBox(apiEndpointLabel, grid)

	if fyne.CurrentDevice().IsMobile() {
		return content, username
	} else {
		bottom := newBorderSpacer()
		left := newBorderSpacer()
		right := newBorderSpacer()
		return container.NewBorder(nil, bottom, left, right, content), username
	}

}

func newBorderSpacer() fyne.CanvasObject {
	rect := canvas.NewRectangle(color.Alpha{})
	rect.SetMinSize(fyne.NewSize(30, 30))
	return rect
}

func attemptAuth(username, password string) (*client.ExistingUserAccount, *http.Response, error) {
	credentials := *client.NewUserCredentials(username, password)
	configuration := client.NewConfiguration()
	configuration.Servers = client.ServerConfigurations{
		{
			URL: fmt.Sprintf("http://%s", apiServerHost),
		},
	}
	apiClient := client.NewAPIClient(configuration)
	resp, r, err := apiClient.AuthAPIApi.AuthenticateUser(context.Background()).UserCredentials(credentials).Execute()
	if err != nil {
		_, _ = fmt.Fprintf(os.Stderr, "Error when calling `AuthAPIApi.AuthenticateUser``: %v\n", err)
		_, _ = fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
		return nil, r, err
	}
	_, _ = fmt.Fprintf(os.Stdout, "Response from `AuthAPIApi.AuthenticateUser`: %v\n", resp)
	return &resp, r, nil
}

func handleAuthResponse(
	username string,
	user *client.ExistingUserAccount,
	response *http.Response,
	err error,
	info *widget.Entry,
	infoPanel *fyne.Container) {

	if err != nil {
		info.SetText(fmt.Sprintf("failed to authenticate '%s'\nerror: %v\nresponse: %v", username, err, response))
		infoPanel.Show()
	} else {
		if user.Authenticated {
			info.SetText(fmt.Sprintf("authenticated '%s'\nuserId: %v", username, user.Id))
			infoPanel.Show()

			fyne.CurrentApp().SendNotification(&fyne.Notification{
				Title:   "Auth demo",
				Content: fmt.Sprintf("authenticated '%s'!\nuserId: %v", username, user.Id),
			})
		} else {
			info.SetText(fmt.Sprintf("failed to authenticate '%s'\nresponse: %v", username, response))
			infoPanel.Show()
		}
	}
}
